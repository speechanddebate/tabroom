<%args>
	$tourn
	$group_id
</%args>
<%perl>

	my $group = Tab::JudgeGroup->retrieve($group_id); 

	foreach my $pool ($group->pools) { 

		$pool->name($ARGS{$pool->id."_name"});
		$pool->standby($ARGS{$pool->id."_standby"});
		$pool->standby($ARGS{$pool->id."_standby"});
		$pool->registrant($ARGS{$pool->id."_registrant"});
		$pool->burden($ARGS{$pool->id."_burden"});
		$pool->update;
	
	}

	if ($ARGS{"new_name"}) { 

		my $pool = Tab::Pool->create({ 

			judge_group => $group_id,
			name => $ARGS{"new_name"},
			standby => $ARGS{"new_standby"},
			registrant => $ARGS{"new_registrant"},
			burden => $ARGS{"new_burden"}

		});

	}

	my $msg = "Pool settings saved ";

	$m->redirect("$Tab::url_prefix/setup/judges/pools.mhtml?group_id=".$group_id."&msg=".$msg);

</%perl>
