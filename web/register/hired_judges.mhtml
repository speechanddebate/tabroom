<%args>
	$circuit
	$tourn
	$account
</%args>

<%init>	
	my @groups = $tourn->groups;
	my @schools = $tourn->schools;
	use POSIX;
</%init>

<h3>Hired judges needed for <% $tourn->name %></h3>

<table cellpadding="3">


% foreach my $group (@groups) { 
%	my @entries;
%	my @classes = $group->classes;
%	foreach my $class (@classes) { 
%   	my @events = $class->events;
%		foreach my $event (@events) { 
%			push (@entries, Tab::Entry->search( event => $event->id, dropped => 0));
%		}
%	}
%   my $num_entries = scalar @entries;
%   my @judges =  $group->judges;
%   my $num_judges = scalar @judges;
%   my $judge_per = $group->judge_per unless $circuit->apda_seeds;
%   my $judges_needed = $num_entries / $judge_per unless $circuit->apda_seeds;
%	$judges_needed = ($num_entries - 2) / 2 if $circuit->apda_seeds;
%   $judges_needed = ceil ($judges_needed);

<tr>
<th><% $group->name %>:</th>
<td>

%   if ($judges_needed > $num_judges) { 
%   	my $judges_short = $judges_needed - $num_judges;
		<%$judges_short %> judges short
%}

%   if ($judges_needed < $num_judges) { 
%   	my $judges_over = $num_judges - $judges_needed;
		<%$judges_over %> judges over 
%}

%   if ($judges_needed == $num_judges) { 
	Exactly the right number of judges.
%}

</td>
</tr>	

% }

</table>
