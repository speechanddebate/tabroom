<%args>
	$tourn
	$entry_id => undef
	$err => undef
	$code => undef
	$circuit
</%args>
<%init>
	my $entry;
	if ($entry_id) { 
		$entry = Tab::Entry->retrieve($entry_id);
	}
	
	if ($code) { 
	
		my @entries = Tab::Entry->search( code => $code, tournament => $tourn->id );

		$err = "No competitors found with speaker code $code" unless @entries;
		$m->redirect("$Tab::url_prefix/register/entry/edit.mhtml?err=$err") unless @entries;
	
		$entry = $entries[0];
		$entry_id = $entry->id;	
	}
	
</%init>

	<div id="halfpage" style="float: left;">

		<h3>Search for a Entry:</h3>

		<center>
		<table cellpadding="5" valign="top" cellspacing="1" width="95%">

			<tr class="liblrow">

				<td>
					By Code:
					<form action="entry/edit.mhtml" method="post">
				</td> 
				
				<td>
					<input type="text" name="code" size="5">
				</td> 
				
				<td>
					<input  type="submit" value="Search">
					</form>
				</td> 
				
			</tr> 
			
			<tr class="bluerow"> 
			
				<td>
					<form action="entry_name_search.mhtml" method="post">
					By last name:
				</td> 
				
				<td>
					<input type="text" name="last_name" size="20">
				</td> 
				
				<td>
					<input  type="submit" value="Search">
					</form>
				</td> 

			</tr>

		</table>

	</div>

	<div id="halfpage" style="float: right;">

		<h3>Search for a Judge:</h3> 
		
		<table width="95%" cellpadding="5" cellspacing="1">

			<tr class="lirdrow">
			
				<td>
					<form action="judge_edit.mhtml" method="post">
					By Code:
				</td>
				
				<td>
					<input type="text" name="judge_code" size="5">
				</td>
				
				<td>
					<input  type="submit" value="Search">
					</form>
				</td>
			
			</tr> 
			
			<tr class="redrow"> 
			
				<td>
					<form action="judge_search.mhtml" method="post">
					By last name:
				</td> 
				
				<td>
					<input type="text" name="last_name" size="20">
				</td> 
				
				<td>
					<input  type="submit" value="Search">
					</form>
				</td> 
				
			</tr> 
			
		</table>

	</div>
