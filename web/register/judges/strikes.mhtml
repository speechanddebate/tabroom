<%args>
	$circuit
	$group_id
	$tourn
	$tz
</%args>
<%init>

	my $group = Tab::JudgeGroup->retrieve($group_id);

</%init>

	<div id="rightsmall">

		<a class="blue block" href="print_strike_sheet.mhtml?group_id=<% $group_id %>">
			Print Strike Sheet
		</a>

	</div>

	<div id="leftbig">

		<h2><% $group->abbr %> Strikes</h2>
	
%	my $switch;

		<table cellpadding="5" cellspacing="1" width="100%">

%		foreach my $judge (sort {$a->code <=> $b->code} $group->struck) {

			<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

			<td width="25%">
				<a class="whiteblock" href="/register/judge_edit.mhtml?judge_id=<% $judge->id %>">
					<%$judge->name %>
				</a>
			</td>

			<td>

%				foreach my $strike ($judge->strikes) {

%   				if ($strike->type eq "event" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							Event:
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->event->name %>
						</span>

%					}

%  	 				if ($strike->type eq "elim" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							No Prelims:
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->event->name %>
						</span>

%   				}

%   				if ($strike->type eq "school" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							<% ($strike->strike) ? "Strike" : "Conflict" %>
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->school->name %>
						</span>

%   				}


%   				if ($strike->type eq "region" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							Region
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->region->name %>
						</span>

%					}

%   				if ($strike->type eq "diocese" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							Diocese
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->diocese->name %>
						</span>

%					}


%   				if ($strike->type eq "comp" ) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							<% ($strike->strike) ? "Strike" : "Conflict" %>
						</span>

    					<span style="display: inline-block;width: 180px;">
							<% $strike->comp->team_name %>
						</span>
							<% substr($strike->comp->school->short_name,0,10) %>

%   				}

%   				if ($strike->type eq "time" &! $strike->bin) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							Not between 
						</span>

    					<span style="display: inline-block;width: 120px;">
							<% Tab::niceshortdt($strike->start->set_time_zone($tz)) %>
						</span>

    					<span style="display: inline-block;width: 120px;">
							<% Tab::niceshortdt($strike->end->set_time_zone($tz)) %>
						</span>

%   				}

%					if ($strike->bin) {

    					<span style="display: inline-block;width: 110px; font-weight: bold;">
							No rounds
						</span>

    					<span style="display: inline-block;width: 220px;">
							<% $strike->bin->name %>
						</span>

%					}	

%				} #end of foreach strike

			</td>

			</tr>

%		} #end of foreach judge

		</table>

	</div>

