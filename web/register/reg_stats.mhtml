<%args>
	$circuit
	$tourn
	$account
	$session
</%args>
<%init>

	my @students = $tourn->students;
	my @judges = $tourn->judges;
	my @schools = $tourn->schools;

	my @regions = $tourn->regions;

	my $switch; 

</%init>

<table width="100%">
<tr>
<td width="100%">
<h3>Tournament statistics for <% $tourn->name %></h3>
</td>
<td>
<form action="reg_stats_print.mhtml" method="post">
<input  type="submit" value="  Print Statistics  ">
</form>
</td>
</tr>
</table>


<div style="float: left; width: 375px; padding: 5px; padding-top: 0px;"> 

<h4>Overall Tournament Information</h4>

<table cellpadding="5" cellspacing="1" width="100%">

%	if ($circuit->diocese_based || $circuit->region_based) { 

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th>Total number of <% ($circuit->diocese_based) ? "dioceses" : "regions" %>:</th>

		<td align="right"><% scalar @regions %></td>

	</tr>

%	}


	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th>Total number of schools:</th>

		<td align="right"><% scalar @schools %></td>

	</tr>

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th>Total number of students:</th>

		<td align="right"><% scalar @students %></td>

	</tr>

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>
		
		<th>Total number of judges:</th>
			
		<td align="right"><% scalar @judges %></td>

	</tr>

</table>

</div>


<div style="float: right; width: 375px;">

<h4>Judges by Category</h4>

<table cellpadding="5" cellspacing="1" width="100%">

%	foreach my $group (sort {$a->name cmp $b->name} $tourn->groups) { 

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th><% $group->name %></th>

		<td align="right"><% scalar $group->judges %></td>

	</tr>

%	}

</table>

</div>

<div style='clear:both;'>
</div>

<div style="float: left; width: 375px; padding: 5px; padding-top: 10px;"> 

% $switch = 1;

<table cellpadding="5" cellspacing="1" width="100%">

<h4>Event Entries</h4>

<table cellpadding="5" cellspacing="1" width="100%">

%	foreach my $event (sort {$a->name cmp $b->name} $m->comp("/funclib/tourn_events.mas", tourn => $tourn)) { 

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th><% $event->name %></th>

		<td align="right"><% scalar $event->active_comps %></td>

		<td align="right"><% scalar $event->students %></td>

	</tr>

%	}

</table>

</div>

<div style="float: right; width: 375px; padding: 5px; padding-top: 10px;">

<h4>Judges by Pool</h4>

<table cellpadding="5" cellspacing="1" width="100%">

%	foreach my $pool (sort {$a->name cmp $b->name} $tourn->pools) { 

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th><% $pool->name %></th>

		<td align="right"><% scalar $pool->judges %></td>

	</tr>

%	}

</table>

</div>

<div style='clear:both;'>
</div>

