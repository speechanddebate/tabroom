<%args>
	$start_year
	$start_month
	$start_day
	$end_year
	$end_month
	$end_day
</%args>
<%init>

	my $start;
	my $end;

	my $now = DateTime->now;

	eval{
		$start = Tab::dateme($start_month."/".$start_day."/".$start_year);
		$end = Tab::dateme($end_month."/".$end_day."/".$end_year);
	};

	unless ($start) { 
		$start = $now;
	}

	unless ($end) {
		$end = $start->clone;
		$end->subtract(days => 14);
	}

	# Find the chapters in NAUDL who have competed in that time frame.

	Tab::Chapter->set_sql( naudl_competed => "
		select chapter.* 
		from chapter, school, tourn
		where chapter.naudl = 1
		and chapter.id = school.chapter
		and school.tourn = tourn.id
		and tourn.end > ?
		and tourn.end < ?
	");

	my @chapters = Tab::Chapter->search_naudl_competed( 
		DateTime::Format::MySQL->format_datetime($start), 
		DateTime::Format::MySQL->format_datetime($end) );

	foreach my $chapter (@chapters) {

	}

</%init>
