<%args>
	$account
	$chosen => undef
</%args>
<%init>

	Tab::Region->set_sql("by_director" => "
		select distinct region.* from region, region_admin
		where region.id = region_admin.region
		and region_admin.account = ? 
		order by region.name");

	my @regions = Tab::Region->search_by_director($account->id );

</%init>


%	if (@regions) { 

		<h3>Regions</h3>

%		foreach my $region (@regions) { 

%			if ($region->circuit && $region->circuit->region_based) { 

				<a class="blue block" href="/user/region/region.mhtml?region_id=<% $region->id %>">
					<% $region->name %> (<% $region->circuit->short_name %> )
				</a>

%			}

%			if ($region->circuit && $region->circuit->diocese_based) { 

				<a class="blue block" href="/user/diocese/diocese_view.mhtml?diocese_id=<% $region->id %>">
					<% ($region->arch) ? "Archdiocese" : "Diocese" %> of <% $region->name %>
				</a>

%			}

%		}
	
		<br>

%	}

