<%args> 
	$diocese
	$pool
	$debug => 0
</%args>
<%perl>

	use POSIX;

	my @groups = $pool->groups;
	my $group = shift @groups;

	my @judges = $pool->dio_judges($diocese);

	my $judge_burden = 0;

	my $entries;

	foreach my $event ($pool->events) { 
		$entries += $diocese->comp_event_count($event);
	}

	system "$Tab::logger There are $entries kids in this group from diocese ".$diocese->name if $debug;

	if ($group->dio_min > 0) { 

		$judge_burden = $group->dio_min if ($entries || $group->tab_room);

	} elsif ($group->judge_per > 0) { 

		$judge_burden = POSIX::floor( $entries/ $group->judge_per );

	}

	# Reduce by the number of free judges for the group, if any
	$judge_burden = $judge_burden - $group->free; 

	return $judge_burden;

</%perl>
