<%args>
	$account => undef
	$tourn
	$event_id => undef
	$round_id => undef
</%args>
<%init>

	my $event = Tab::Event->retrieve($event_id) if $event_id;
	my $round = Tab::Round->retrieve($round_id) if $round_id;
	$event = $round->event unless $event;
	$tourn = $event->tourn;

	unless ($round->published) { 
		$m->print("Stop messing around");
		$m->abort;
	}

</%init>

	<& sidebar.mas, tourn_id => $tourn->id, event_id => $event->id, round_id => $round->id &>

	<div class="left huge">

        <h2>
            <% $tourn->name %>: <% $tourn->location %>  
        </h2>

        <& ../tourn_header.mas, tourn => $tourn, account => $account &>

%		if ($event) { 


%			if ($round) { 

%	 			if ( $event->type eq "speech" ) { 
					<& show_speech.mas, round => $round &>
%				}

%	 			if ( $event->type eq "congress" ) { 
					<& show_congress.mas, round => $round &>
%				}

%	 			if ( $event->type eq "wudc" ) { 
					<& show_wudc.mas, round => $round &>
%				}
	
% 				if ( $event->type eq "debate" || $event->type eq "policy" ) { 
					<& show_debate.mas, round => $round &>
%				}

%			} 

%		}

	</div>

