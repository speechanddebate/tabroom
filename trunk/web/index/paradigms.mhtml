<%args>
	$tourn_id
</%args>
<%init>

	my $tourn = Tab::Tourn->retrieve($tourn_id);

	unless ($tourn->method->publish_paradigms == 1) { 
		$m->print("<p class=\"err\">The paradigms for this tournament have not been published</p>");
		$m->abort;
	}

	my @groups = $tourn->groups(ask_paradigm => 1);

	my $switch;

</%init>

<form action="print_paradigms.mhtml">
<input type="hidden" name="tourn_id" value="<% $tourn->id %>">
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td width="100%">
<h3><% $tourn->name %> Judge Paradigms</h3>
</td>
<td>
<input class="blue" type="submit" value="Printable Paradigms List">
</td>
</tr>
</table>
</form>

<p>

%	foreach my $group (sort {$a->name cmp $b->name} @groups) { 

	<h4><% $group->name %></h4>
	<table  class="paradigm" cellpadding="5" cellspacing="1" width="100%">

%		foreach my $judge (sort {$a->last cmp $b->last} $group->judges) { 

%			next unless $judge->paradigm;

			<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>	

			<td valign="top" width="20%"><b><% $judge->last.", ".$judge->first %></b>:
										<br><% ($judge->school->id) ? $judge->school->name : "Hired" %></td>

			<td><p><% $judge->paradigm %></p></td>

			</tr>

%		}

	</table>
%	}

</p>

</div>
