<%args>
	$tourn
</%args>
<%init>

	Tab::JudgeGroup->set_sql( by_exchange => "
		select distinct judge_group.*
		from judge_group, setting, tourn
		where judge_group.tourn = ? 
		and tourn.id = judge_group.tourn
		and judge_group.id = setting.judge_group
		and setting.tag = \"exchange\"
		and setting.value > 0
		and setting.type = 'class'
		order by tourn.start DESC
	");

	return Tab::JudgeGroup->search_by_exchange($tourn->id);

</%init>
