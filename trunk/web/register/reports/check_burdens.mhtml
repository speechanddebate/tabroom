<%args>
	$tourn
</%args>
<%init>

	my @groups = sort {$a->name cmp $b->name} $tourn->groups;

</%init>

<h3>Judge Burdens</h3>
<center>
<table cellpadding="5" cellspacing="1" width="100%">

	<tr class="liblrow">
		<th>School</th>
		<th>State</th>
%		foreach my $group (@groups) {
			<th><% $group->abbr %></th>
%		}
	</tr>

%	my $switch;

%	foreach my $school (sort {$a->name cmp $b->name} $tourn->schools) { 

	<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

		<th>
			<a href="<% $Tab::url_prefix %>/register/index.mhtml?school_id=<% $school->id %>">
			<% $school->name %>
			</a>
		</th>
		<td>
			<% $school->chapter->state %>
		</td>

%		foreach my $group (@groups) { 
%		   		my $uncovered = $m->comp("/funclib/judgemath/uncovered_burden_by_group.mas",
%  		   			group => $group,
%  		       		school => $school);
			<td class="<% ($uncovered) ? "red" : "" %>">
%				$m->print("OK") unless $uncovered;	
%				$m->print($uncovered." uncovered") if $uncovered;
			</td>
%		}
	</tr>

%	}

</table>
</center>
