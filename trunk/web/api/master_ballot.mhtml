<%init>

	my @settings = Tab::Setting->search( tag => "master_ballot", type => 'class');

	foreach my $setting (@settings) { 

		if ($setting->value eq "name_schcode") { 

			my $name = $setting->copy({
				tag => "ballot_entry_names",
				value => 1
			});

			my $schcode = $setting->copy({
				tag => "ballot_school_codes",
				value => 1
			});

			$setting->delete;

		} elsif ($setting->value eq "first") { 

			my $name = $setting->copy({
				tag => "ballot_entry_first_names",
				value => 1
			});

			$setting->delete;

		} elsif ($setting->value eq "names") { 

			my $name = $setting->copy({
				tag => "ballot_entry_names",
				value => 1
			});

			$setting->delete;

		} elsif ($setting->value eq "titles") { 

			my $name = $setting->copy({
				tag => "ballot_entry_titles",
				value => 1
			});

			$setting->delete;

		} elsif ($setting->value eq "both") { 

			my $title = $setting->copy({
				tag => "ballot_entry_titles",
				value => 1
			});

			my $name = $setting->copy({
				tag => "ballot_entry_names",
				value => 1
			});

			$setting->delete;

		} elsif ($setting->value eq "title_schcode") { 

			my $name = $setting->copy({
				tag => "ballot_entry_titles",
				value => 1
			});

			my $schcode = $setting->copy({
				tag => "ballot_school_codes",
				value => 1
			});

			$setting->delete;

		}

		$m->flush_buffer;

	}

</%init>
