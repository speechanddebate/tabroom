<%args>
	$circuit
	$account
	$session
	$membership_id => undef
</%args>

%	my $switch;
%	my $membership = Tab::Membership->retrieve($membership_id) if $membership_id;

    <table width="100%">

        <tr>
            <td width="100%">
                <h2>Add membership class to <% $circuit->short_name %></h2>
            </td>

			<td>
				<form action="memberships.mhtml" method="post">
				<input type="submit" class="grey" value=" Return to List ">
				</form>
			</td>

        </tr>

    </table>

	<br>

	<table cellpadding="5" width="100%" cellspacing="1">

		<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

			<td>
				<form action="membership_save.mhtml" method="post"> 
				<input type="hidden" name="membership_id" value="<% ($membership_id) ? $membership->id : "" %>">
				Name
			</td>
				
			<td align="right">
				<input type="text" size="30" name="name" value="<% ($membership_id) ? $membership->name : "" %>">
			</td>

		</tr>

		<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>

			<td>
				Dues:
			</td>

			<td align="right">
				<input type="text" size="30" name="dues" value="<% ($membership_id) ? $membership->dues : "" %>">
			</td>

		</tr>

		<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>	

			<td>
				Subject to circuit approval:
			</td>
			
			<td align="right">
				<input type="checkbox" name="approval" value="1" <% ($membership_id) ? ($membership->approval) ? "checked" : "" : "" %>>
			</td>

		</tr>

		<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\"" %>>	

			<td colspan="2">
				Description and conditions for members:
			</td>

		</tr>

		<tr>
			<td colspan="2" class="center">
				<textarea name="text" rows="10" cols="55"><% ($membership_id) ? $membership->text : "" %></textarea>
			</td>
		</tr>

		<tr class="liblrow">
			<td colspan="2" class="right">
				<input type="submit" value="  Save Membership   ">
			</td>
		</tr>

	</table>


