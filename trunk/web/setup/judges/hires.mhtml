<%args>
	$account
	$group_id
	$tourn
	$circuit
	$err => undef
</%args>

%	my $group = Tab::JudgeGroup->retrieve($group_id);
%	my $switch;
%	my $judge_per++ if $group->setting("judge_per");
%	my $rounds_per++ if $group->setting("rounds_per");

	<& menu.mas, tourn => $tourn, group_id => $group_id, page => "hires" &>

	<div class="main">

		<h2>
			<% $group->name %>
		</h2>

		<& "tabbar.mas", whoami => "hires", group => $group &>
			
		<h4>
			Hired Judging
		</h4>

		<form action="hires_save.mhtml" method="post">
		<input type="hidden" value="<% $group_id %>" name="group_id">

		<table cellpadding="8" width="100%" cellspacing="1">  

			<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >

				<td>
					<label for="exchange">
						Hiring Exchange (Schools hire tourn-approved judges directly)
					</label>
				</td> 
					
				<td class="centeralign">
					<input type="checkbox" id="exchange" name="exchange" value="1" <%  ($group->setting("exchange")) ? "checked" : "" %>> 
				</td>

			</tr>
		
			<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >
			
				<td>
					<label for="track_judge_hires">
						Offer tournament hired judging
					</label>
				</td> 
				
				<td class="centeralign">

					<input type="checkbox" id="track_judge_hires" name="track_judge_hires" 
						value="1" <%  ($group->setting("track_judge_hires")) ? "checked" : "" %>> 

				</td>
				
			</tr> 

%			if ($group->setting("judge_per")) { 

				<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >

					<td>
						Number of hired judges available.  Put 0 to manage hires manually.
					</td> 
				
					<td align="right"> 
						<input type="text" name="hired_pool" size="4" value="<% $group->setting("hired_pool") %>">
					</td>
				
				</tr>

%			} elsif ($group->setting("rounds_per")) { 

				<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >

					<td>
						Number of hired rounds available.  Put 0 to manage hires manually.
					</td> 
				
					<td align="right"> 
						<input type="text" name="hired_rounds" size="4" value="<% $group->setting("hired_rounds") %>">
					</td>

				</tr>
%			}

			<tr>
				<td colspan="2">
					<h4>
						Judge hiring methods <% $group->setting('rounds_per') ? "" : "(Use only one)" %>
					</h4>
				</td>
			</tr>

%			if ($group->setting("rounds_per")) { 

				<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >

					<td>
						Charge per round:
					</td> 
					
					<td align="right">
						$<input type="text" name="round_hire_fee" size="4" value="<% $group->setting("round_hire_fee") %>">
					</td>

				</tr>

%			} else { 

%				if ($err eq "You can only use one hiring method for judges, not both.") { 
					<tr <% ($switch++ % 2) ? "class=\"redrow\"" : "class=\"lirdrow\""%> >
% 				} else { 
					<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >
%				}

					<td>
						Charge for each whole judge a school hires:
					</td>

					<td align="right">
						$<input type="text" name="hired_fee" size="4" value="<% $group->setting("hired_fee") %>">
					</td>

				</tr>

%				if ($err eq "You can only use one Hiring Method for judges, not both.") { 
					<tr <% ($switch++ % 2) ? "class=\"redrow\"" : "class=\"lirdrow\""%> >
% 				} else { 
					<tr <% ($switch++ % 2) ? "class=\"oddrow\"" : "class=\"evenrow\""%> >
%				}

					<td>
						Charge for each entry covered by hired judging:
					</td> 
					
					<td align="right">
						$<input type="text" name="uncovered_entry_fee" size="4" value="<% $group->setting("uncovered_entry_fee") %>">
					</td>

				</tr> 

%			}

			<tr class="liblrow">

				<td colspan="3" align="right">
					<input type="submit" value=" Save Hired Judge Settings ">
					</form>
				</td>

			</tr>
				
		</table>

	</div>



