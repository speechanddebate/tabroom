<%args>
	$rpool_id  => undef
	$round_id => undef
	$return   => undef
</%args>
<%init>

	my $existing = Tab::RPoolRound->search( round => $round_id, rpool => $rpool_id )->first;

	if ($round_id && $rpool_id) { 

		unless ($existing) { 

			Tab::RPoolRound->create({
				round => $round_id,
				rpool => $rpool_id
			});
		}

	} else { 

		$existing->delete if $existing;
	}


	my $msg = "Round will now draw from this room rpool";
	$m->redirect("rpool.mhtml?rpool_id=$rpool_id&msg=$msg") if $return;
	$m->redirect("edit_rpools.mhtml?msg=$msg");


</%init>
