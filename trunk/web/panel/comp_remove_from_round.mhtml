<%args>
	$account
	$round_id
	$tourn
	$comp_id
	$certain => undef
</%args>
<%init>

	my $round = Tab::Round->retrieve($round_id);
	my $event = $round->event;
	my $comp = Tab::Comp->retrieve($comp_id);

	if ( ($certain eq "I am certain")) {

		foreach my $ballot (Tab::Ballot->search_round_ballots($comp->id, $round->id)) { 
			$ballot->delete;
		}

		$m->redirect("$Tab::url_prefix/panel/schemat_show.mhtml?event_id=".$event->id);
	}

</%init>

<&  "/funclib/warning.mas", account => $account &>

<h3></h3>
<p></p>
<br><br>
<br><br>
<center>
<P><B>
	You are about to remove competitor <% $comp->code %> from round
	<% ($round->label) ? $round->label : $round->name %>. 

	<p>This cannot be undone.  You can only get it back
	by re-entering the kid manually into the round</p>

	<p>Don't say I didn't warn you.</p>

% if ($certain) {

<p><font color="red">You did not type "I am certain", exactly like that.  Try
again</font></p>

% }

<br><br>
<p>To proceed, type "I am certain" in the box below:</p>
<br><br>
<form action="comp_remove_from_round.mhtml" method="post">

<input type="hidden" value="<% $round_id %>" name="round_id">
<input type="hidden" value="<% $comp_id %>" name="comp_id">
<p align="center">
<input type="text" name="certain" size="20"></p>
<p align="center">
<input  type="submit" value="Drop Kid From Round"></p>
</center>
</form>
