<%args>
	$pool_id  => undef
	$round_id => undef
</%args>
<%init>

	my $existing = Tab::RoomGroupRound->search( round => $round_id, room_group => $pool_id )->first;

	if ($round_id && $pool_id) { 

		unless ($existing) { 
			Tab::RoomGroupRound->create({
				round      => $round_id,
				room_group => $pool_id
			});
		}

	}

	my $pool = Tab::RoomGroup->retrieve($pool_id);
	my $msg = "Round will now draw from room pool ".$pool->name;

	$m->redirect("show.mhtml?round_id=$round_id&settings=1&msg=$msg");


</%init>
